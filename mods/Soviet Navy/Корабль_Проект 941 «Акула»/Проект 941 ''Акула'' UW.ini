[core]
name: Проект 941 "Акула" UW
displayDescription: -Подводный режим \n-Повышенная маневренность \n-Способен строить минные заграждения \n-Способен строить ракеты типа Р-39 \n-Вооружен 5-ю тяжелыми торпедами

showInEditor: false

class: CustomUnitMetadata
price: 150000
maxHp: 9000
mass: 116000

radius: 60
fogOfWarSightRange: 13

transportSlotsNeeded: 5

isBuilder: true
autoRepair: false
canRepairBuildings: false
canRepairUnits: true
nanoRange: 300
nanoRepairSpeed: 1
nanoFactorySpeed: 1

canBuild_1_name: Мина
canBuild_1_forceNano: true
canBuild_1_pos: 4

selfRegenRate: 0.01

nukeOnDeath: true
nukeOnDeathRange: 150
nukeOnDeathDamage: 3800

generation_credits: -50
#generation_delay: 500

[action_dive]
isVisible: true

convertTo: Проект 941 "Акула" DW
isActive: true
displayType: action
price: 0
text: Погружение
description: Погружение на максимально возможную глубину
buildSpeed: 1.5s
#highPriorityQueue: true
whenBuilding_cannotMove: false
pos: 0

[action_surface]
isVisible: true

convertTo: Проект 941 "Акула" S
isActive: true
displayType: action
price: 0
text: Всплытие
description: Всплытие из подводы
buildSpeed: 1.5s
highPriorityQueue: true
whenBuilding_cannotMove: false
whenBuilding_playAnimation: deploy
pos: 1

[action_launchP39]
price:  ammo=1

text: Запуск
description: Запуск
displayType: action
isActive: false
buildSpeed: 2.8s
displayRemainingStockpile: true
highPriorityQueue: true
onlyOneUnitAtATime: false
pos: 2

[action_buildP39]
price: 16500
text: Постройка
description: Постройка
displayType: NONE
buildSpeed: 58s
isActive: if self.ammoIncludingQueued(lessThan=20)
addResources: ammo=1
pos: 3

[graphics]
total_frames: 1

image: Проект 941 S.png
image_wreak: Проект 941_dead.png
image_turret: NONE

imageScale: 0.9

image_shadow: AUTO
shadowOffsetX: 2
shadowOffsetY: 2

movementEffect: CUSTOM:splash
movementEffectRate: 8

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: true
canAttackUnderwaterUnits: true
canAttackNotTouchingWaterUnits: false

turretSize: 1
turretTurnSpeed: 25

maxAttackRange: 500
shootDelay: 2s

[turret_nano]
x: 0
y: 0
invisible: true
warmup: 0.1s

[turret_1Torp]
#torpedo
x: 0
y: 0
invisible: true
idleDir:0

#canAttackFlyingUnits: false
#canAttackLandUnits: false
#canAttackUnderwaterUnits: true
#canAttackNotTouchingWaterUnits: true

projectile: 1

[turret_2Torp]
#torpedo
x: 0
y: 0

copyFrom: 1Torp

warmup: 0.5s

[projectile_1]
#torpedo
areaDamage: 400
areaRadius: 50
life: 999
speed: 2

trailEffect: true
largeHitEffect: true
targetGround: false

lightColor: #BB99DD

deflectionPower: -1

[movement]
movementType: WATER
moveSpeed: 0.9
moveAccelerationSpeed: 0.015
moveDecelerationSpeed: 0.05

maxTurnSpeed: 0.5
turnAcceleration: 0.05

reverseSpeedPercentage: 0.6

targetHeight: -10
targetHeightDrift: 0.3

[effect_splash]
life: 70
stripIndex: effects
frameIndex: 13

scaleFrom: 1.2
scaleTo: 1.3
alpha: 0.4
atmospheric: true

fadeInTime: 3
fadeOut: true

dirOffsetRandom: 180

xSpeedAbsoluteRandom: 0.1
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:-0.2
#hSpeed:0.1

yOffsetRelative: -120

attachedToUnit: false
drawUnderUnits: true

[arm_1]
x: -18
y: 98

image_end: КрылоЛ.png

[arm_2]
x: 18
y: 98

image_end: КрылоП.png

[animation_deploy]

blendIn: 1.45s
blendOut: 1.45s

arm1_0: {x: 8, y: 0}
arm2_0: {x: -8, y: 0}